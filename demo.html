<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
    <meta charset="UTF-8" />
    <title>A date range picker for Bootstrap</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" media="all" href="daterangepicker.css" />
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://use.fontawesome.com/b3e25299a3.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
    <script type="text/javascript" src="moment.js"></script>
    <script type="text/javascript" src="daterangepicker.js"></script>
  </head>
  <body>

    <div class="container">

      <div class="row">
        <div class="col s12 center"><h4>Configuration Builder</h4></div>
      </div>

      <div class="row">
        <div class="col s12">
          <div class="card-panel">
            <form>
              <div class="row">

                <div class="col s12 m4">
                  <div class="input-field">
                    <input id="parentEl" type="text" placeholder="body">
                    <label for="parentEl">parentEl</label>
                  </div>
                  <div class="input-field">
                    <input id="startDate" type="text" placeholder="MM/DD/YYYY">
                    <label for="startDate">startDate</label>
                  </div>
                  <div class="input-field">
                    <input id="endDate" type="text" placeholder="MM/DD/YYYY">
                    <label for="endDate">endDate</label>
                  </div>
                  <div class="input-field">
                    <input id="minDate" type="text" placeholder="MM/DD/YYYY">
                    <label for="minDate">minDate</label>
                  </div>
                  <div class="input-field">
                    <input id="maxDate" type="text" placeholder="MM/DD/YYYY">
                    <label for="maxDate">maxDate</label>
                  </div>
                </div>

                <div class="col s12 m4">
                  <p><input type="checkbox" id="noteditable" checked><label for="noteditable">noteditable</label></p>
                  <p><input type="checkbox" id="autoApply" checked><label for="autoApply">autoApply</label></p>
                  <p><input type="checkbox" id="singleDatePicker" checked><label for="singleDatePicker">singleDatePicker</label></p>
                  <p><input type="checkbox" id="showDropdowns"><label for="showDropdowns">showDropdowns</label></p>
                  <p><input type="checkbox" id="showWeekNumbers"><label for="showWeekNumbers">showWeekNumbers</label></p>
                  <p><input type="checkbox" id="showISOWeekNumbers"><label for="showISOWeekNumbers">showISOWeekNumbers</label></p>
                  <p><input type="checkbox" id="dateLimit"><label for="dateLimit">dateLimit</label></p>
                  <p><input type="checkbox" id="ranges"><label for="ranges">ranges</label></p>
                  <p><input type="checkbox" id="locale"><label for="locale">locale</label></p>
                  <p><input type="checkbox" id="alwaysShowCalendars"><label for="alwaysShowCalendars">alwaysShowCalendars</label></p>
                  <p><input type="checkbox" id="linkedCalendars"><label for="linkedCalendars">linkedCalendars</label></p>
                  <p><input type="checkbox" id="autoUpdateInput"><label for="autoUpdateInput">autoUpdateInput</label></p>
                  <p><input type="checkbox" id="showCustomRangeLabel"><label for="showCustomRangeLabel">showCustomRangeLabel</label></p>
                </div>

                <div class="col s12 m4">
                  <div class="input-field">
                    <select id="opens">
                      <option value="" disabled>Choose your option</option>
                      <option value="right" selected >right</option>
                      <option value="left">left</option>
                      <option value="center">center</option>
                    </select>
                    <label>opens</label>
                  </div>
                  <div class="input-field">
                    <select id="drops" >
                      <option value="down" selected>down</option>
                      <option value="up">up</option>
                    </select>
                    <label>drops</label>
                  </div>
                  <div class="input-field">
                    <input id="buttonClasses" type="text" value="btn btn-sm">
                    <label for="buttonClasses">buttonClasses</label>
                  </div>
                  <div class="input-field">
                    <input id="applyClass" type="text" value="btn-success">
                    <label for="applyClass">applyClass</label>
                  </div>
                  <div class="input-field">
                    <input id="cancelClass" type="text" value="btn-default">
                    <label for="cancelClass">cancelClass</label>
                  </div>
                </div>

              </div>
              <div class="row"><div class="col s12 center"><button id="update" class="btn">Update</button></div></div>
            </form>
          </div>
        </div>
      </div>


      <div class="row">
        <div class="input-field col s12 m6">
          <input type="text" id="config-demo" data-target="daterange" class="modal-trigger">
        </div>
        <div class="input-field col s12 m6">
          <textarea id="config-text" class="browser-default" readonly style="height: 300px; width: 100%; padding: 10px"></textarea>
        </div>
      </div>

    </div>

    <div class="modal" id="daterange"><div class="modal-content"></div></div>

    <script type="text/javascript">
      $(document).ready(function (){

          $('select').material_select();
          $('.modal').modal();

          var template = '<div class="daterangepicker">' +
                    '<div class="calendar left">' +
                      '<div class="daterangepicker_input">' +
                        '<input class="input-mini form-control" type="text" name="daterangepicker_start"  />' +
                        '<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>' +
                      '</div>' +
                      '<div class="daterangepicker_input">' +
                        '<input class="input-mini form-control" type="text" name="daterangepicker_end"  />' +
                        '<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>' +
                      '</div>' +
                      '<div class="calendar-table"></div>' +
                    '</div>' +
                    '<div class="ranges">' +
                      '<div class="range_inputs">' +
                        '<button class="applyBtn" disabled="disabled" type="button"></button> ' +
                        '<button class="cancelBtn" type="button"></button>' +
                      '</div>' +
                    '</div>' +
                  '</div>';

          $('#update').click(function (e){
              e.preventDefault();
              updateConfig();
          });

          function updateConfig(){
              var options = {};

              options.template = template;

              if($('#noteditable').is(':checked'))
                  options.noteditable = true;

              if($('#singleDatePicker').is(':checked'))
                  options.singleDatePicker = true;

              if($('#showDropdowns').is(':checked'))
                  options.showDropdowns = true;

              if($('#showWeekNumbers').is(':checked'))
                  options.showWeekNumbers = true;

              if($('#showISOWeekNumbers').is(':checked'))
                  options.showISOWeekNumbers = true;

              if($('#autoApply').is(':checked'))
                  options.autoApply = true;

              if($('#dateLimit').is(':checked'))
                  options.dateLimit = {days: 7};

              if($('#ranges').is(':checked')){
                  options.ranges = {
                      'Today': [moment(), moment()],
                      'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                      'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                      'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                      'This Month': [moment().startOf('month'), moment().endOf('month')],
                      'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                  };
              }

              if($('#locale').is(':checked')){
                  options.locale = {
                      direction: $('#rtl').is(':checked') ? 'rtl' : 'ltr',
                      format: 'MM/DD/YYYY HH:mm',
                      separator: ' - ',
                      applyLabel: 'Apply',
                      cancelLabel: 'Cancel',
                      fromLabel: 'From',
                      toLabel: 'To',
                      customRangeLabel: 'Custom',
                      daysOfWeek: ['Su', 'Mo', 'Tu', 'We', 'Th', 'Fr', 'Sa'],
                      monthNames: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'],
                      firstDay: 1
                  };
              }

              if(!$('#linkedCalendars').is(':checked'))
                  options.linkedCalendars = false;

              if(!$('#autoUpdateInput').is(':checked'))
                  options.autoUpdateInput = false;

              if(!$('#showCustomRangeLabel').is(':checked'))
                  options.showCustomRangeLabel = false;

              if($('#alwaysShowCalendars').is(':checked'))
                  options.alwaysShowCalendars = true;

              if($('#parentEl').val().length)
                  options.parentEl = $('#parentEl').val();

              if($('#startDate').val().length)
                  options.startDate = $('#startDate').val();

              if($('#endDate').val().length)
                  options.endDate = $('#endDate').val();

              if($('#minDate').val().length)
                  options.minDate = $('#minDate').val();

              if($('#maxDate').val().length)
                  options.maxDate = $('#maxDate').val();

              if($('#opens').val().length && $('#opens').val() != 'right')
                  options.opens = $('#opens').val();

              if($('#drops').val().length && $('#drops').val() != 'down')
                  options.drops = $('#drops').val();

              if($('#buttonClasses').val().length && $('#buttonClasses').val() != 'btn btn-sm')
                  options.buttonClasses = $('#buttonClasses').val();

              if($('#applyClass').val().length && $('#applyClass').val() != 'btn-success')
                  options.applyClass = $('#applyClass').val();

              if($('#cancelClass').val().length && $('#cancelClass').val() != 'btn-default')
                  options.cancelClass = $('#cancelClass').val();

              $('#config-text').val("$('#demo').daterangepicker(" + JSON.stringify(options, null, '    ') + ", function(start, end, label) {\n  console.log(\"New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')\");\n});");

              $('#config-demo').daterangepicker(options, function (start, end, label){
                  console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');
              });

          }

      });
    </script>

  </body>
</html>
